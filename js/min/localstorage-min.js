function storageAvailable(e){try{var t=window[e],o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return!1}}function getLocalStorage(){localStorage.getItem("emailSettings")?setSettings():populateStorage()}function setSettings(){var e=localStorage.getItem("emailSettings");console.log("real emailSettings: "+localStorage.getItem("emailSettings")),1==e?(emailSwitch.setAttribute("checked","checked"),console.log("attribute added"),console.log("set to TRUE")):0==e&&(emailSwitch.removeAttribute("checked"),console.log("attribute removed"),console.log("set to FALSE"))}function populateStorage(){var e=function(){return!!emailSwitch.checked};localStorage.setItem("emailSettings",e()),console.log("real emailSettings: "+localStorage.getItem("emailSettings")),setSettings()}var buttonSave=document.getElementById("button-save"),buttonCancel=document.getElementById("button-cancel"),emailSwitch=document.getElementById("switch-email"),publicSwitch=document.getElementById("switch-public");storageAvailable("localStorage")&&getLocalStorage(),buttonSave.addEventListener("click",function(e){e.preventDefault(),populateStorage()});